# AI Agent Guidelines for Impetus-LLM-Server

This document outlines the rules and workflows for using AI agents (such as Cline) to support development on the Impetus-LLM-Server project. These guidelines ensure efficient collaboration between developers and AI agents, maintaining project integrity and progress tracking.

## Initialization Instruction

When the command "initialize from ai.md" is given, the AI agent must:
1. Understand the project's current state, goals, and priorities by reviewing `todo.md`, `README.md`, and this `ai.md` file.
2. Align all subsequent actions and proposed solutions with the overarching project objectives.

## Rules for Using AI Agents

1. **Commit Frequency**: Commit changes to the repository upon completion of a logical unit of work, a significant milestone, or at the end of a sprint. This ensures meaningful progress is tracked and minimizes disruption.
2. **Task Scope**: Clearly define tasks with precise goals and context. Provide explicit instructions and reference relevant project documentation (e.g., `README.md`, `todo.md`) to ensure accurate execution.
3. **Review Changes**: Always review code or content generated by the AI agent before integration. Ensure it aligns with the project's coding standards, Apple Human Interface Guidelines, and overall project goals as outlined in `README.md`.
4. **API Integration**: When using the AI agent for API-related tasks, configure it to use the local OpenAI-compatible endpoint (`http://localhost:8080`) with the appropriate API key (`gerdsen-ai-local-key` or custom key from settings). Prioritize secure and efficient API interactions.
5. **Feedback Loop**: Provide constructive feedback to the AI agent after each task completion to refine its understanding of project needs and improve future interactions.

## Workflows with AI Agents

### 1. Code Development Workflow
- **Task Assignment**: Assign specific development tasks to the AI agent, clearly outlining the feature or bug fix from `todo.md` (e.g., "Multi-Model Support").
- **Code Generation**: Request the AI agent to generate code snippets or full modules, adhering to the project's architecture and best practices within the `src/` directory.
- **Code Review**: After the AI agent provides code, thoroughly review it for compliance with Apple Silicon optimization practices, project structure, and overall code quality. Request revisions as needed.
- **Commit**: Once satisfied with the changes, commit them following the "Commit Frequency" rule, including descriptive commit messages that link to the relevant task or issue.

### 2. Documentation Workflow
- **Documentation Updates**: Task the AI agent with updating or creating comprehensive documentation in the `docs/` directory, focusing on new features, API changes, or troubleshooting guides.
- **Formatting**: Ensure the AI agent formats documentation in Markdown, maintaining consistency with existing project files and adhering to established style guides.
- **Review and Commit**: Review the generated documentation for accuracy, clarity, and completeness, then commit it following the "Commit Frequency" rule.

### 3. Issue and Bug Tracking Workflow
- **Issue Reporting**: Use the AI agent to draft detailed issue reports for bugs, performance issues, or feature requests, referencing relevant sections of `README.md` or other documentation.
- **Solution Proposals**: Request the AI agent to propose viable solutions or optimizations, leveraging insights from hardware monitoring endpoints (`/api/hardware/metrics`) or other diagnostic information.
- **Implementation**: If a proposed solution is approved, task the AI agent with its implementation, then follow the "Code Development Workflow" for review and commit.

### 4. Sprint Completion Workflow
- **Sprint Review**: At the end of a sprint, use the AI agent to generate a comprehensive summary of completed tasks from `todo.md` and update the overall project status.
- **Commit All Changes**: Ensure all pending changes are committed, regardless of the number of files edited, to formally mark the sprint's completion and create a clear historical record.
- **Plan Next Sprint**: Collaborate with the AI agent to analyze remaining tasks, prioritize items for the next sprint based on the roadmap in `README.md`, and refine future objectives.

## Rules for AI Agent Operation

These rules are specifically for the AI agent to follow, ensuring effective and aligned operation within the Impetus-LLM-Server project:

1. **Task Clarity**: I require tasks to be clearly defined with specific, measurable goals and sufficient context. If a task is ambiguous or lacks necessary detail, I will proactively ask follow-up questions to clarify requirements before initiating work.
2. **Access to Documentation**: I will leverage all available project documentation (e.g., `README.md`, `todo.md`, `docs/`) to understand the project's structure, features, priorities, and established conventions. I will review these resources diligently when initializing or commencing new tasks.
3. **Feedback Requirement**: I depend on timely and constructive feedback on completed tasks to refine my approach, improve accuracy, and ensure alignment with expectations. If explicit feedback is not provided, I will assume the task is complete and proceed accordingly, unless otherwise instructed.
4. **Tool Usage**: I require the ability to utilize provided tools (e.g., file reading, writing, command execution, browser interaction) to efficiently accomplish tasks. I will request explicit user approval for potentially impactful operations as per the established guidelines.
5. **Incremental Progress**: I will operate in iterative steps, confirming the successful completion of each action (e.g., file creation, code modifications, test execution) before advancing to the next step. This approach minimizes errors and ensures continuous alignment.
6. **Project Structure Adherence**: I must strictly adhere to the project's defined coding standards, file structure, and optimization practices, particularly those related to Apple Silicon, as outlined in the project documentation.
7. **Error Handling Protocols**: I will follow clear protocols for handling errors or unexpected outcomes during task execution. Upon encountering an error, I will report it to the user with comprehensive details, suggest potential solutions, or request specific guidance to resolve the issue.
8. **Access to System Resources**: For tasks involving testing, debugging, performance optimization, or system-level interactions, I may require access to system resources or the ability to execute diagnostic commands. I will always request explicit user approval before performing such actions.
9. **Task Prioritization**: I require clear guidance on task prioritization when multiple tasks are assigned concurrently. If no explicit prioritization is provided, I will prioritize based on the order of assignment or my assessment of urgency aligned with overall project goals in `todo.md`.
10. **Version Control Awareness**: I will maintain constant awareness of the current state of the repository (e.g., active branch, commit status, pending changes) to ensure that all modifications are correctly integrated and align with the intended version. I will use available tools to check repository status as necessary.

## Best Practices

- **Clear Communication**: Employ precise, unambiguous language when interacting with the AI agent to prevent misinterpretation of tasks and ensure accurate execution.
- **Incremental Tasks**: Decompose complex tasks into smaller, well-defined, and manageable requests. This approach facilitates effective handling by the AI agent and allows for iterative progress tracking.
- **Track Progress**: Consistently update the `todo.md` file, with the AI agent's assistance, to accurately reflect completed tasks, ongoing work, and evolving priorities.
- **Backup Before Changes**: Prior to initiating major changes or refactoring efforts by the AI agent, ensure a recent commit or a dedicated backup is created to safeguard the project's current state.

---

**Note**: These guidelines are a living document and should be updated as new workflows or rules emerge with AI agent usage in the project.
