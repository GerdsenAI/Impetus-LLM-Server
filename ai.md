# AI Agent Guidelines for Impetus-LLM-Server

This document outlines the rules and workflows for using AI agents (such as Cline) to support development on the Impetus-LLM-Server project. These guidelines ensure efficient collaboration between developers and AI agents, maintaining project integrity and progress tracking.

## Initialization Instruction

When the command "initialize from ai.md" is given, the AI agent (whether in Plan or Act mode) must:
1. Review the contents of `todo.md` to understand current tasks and priorities.
2. Review the rules and workflows outlined in this `ai.md` file to adhere to project-specific guidelines.
3. Proceed with tasks based on the context provided by the user, ensuring alignment with the project's goals and structure as defined in the README.md.

## Rules for Using AI Agents

1. **Commit Frequency**: Commit changes to the repository every 5 files edited or adjusted, or upon completing a sprint. This ensures regular checkpoints and minimizes the risk of losing significant progress.
2. **Task Scope**: Clearly define tasks or issues for the AI agent to address. Provide specific instructions or context from the project documentation to guide the agent's actions accurately.
3. **Review Changes**: Always review code or content generated by the AI agent before integration. Ensure it aligns with the project's coding standards and Apple Human Interface Guidelines as outlined in the README.md.
4. **API Integration**: When using the AI agent for API-related tasks, configure it to use the local OpenAI-compatible endpoint (`http://localhost:8080`) with the appropriate API key (`gerdsen-ai-local-key` or custom key from settings).
5. **Feedback Loop**: Provide feedback to the AI agent after each task completion to refine its understanding of project needs and improve future interactions.

## Workflows with AI Agents

### 1. Code Development Workflow
- **Task Assignment**: Assign specific development tasks to the AI agent, such as implementing a feature from the `todo.md` list (e.g., "Multi-Model Support").
- **Code Generation**: Request the AI agent to generate code snippets or full modules based on the project's architecture in the `src/` directory.
- **Code Review**: After the AI agent provides code, review it for compliance with Apple Silicon optimization practices and project structure. Request revisions if necessary.
- **Commit**: Once satisfied with the changes, commit them as per the rule (every 5 files or end of sprint) with descriptive commit messages linking to the task.

### 2. Documentation Workflow
- **Documentation Updates**: Task the AI agent with updating or creating documentation in the `docs/` directory, especially for new features or troubleshooting guides.
- **Formatting**: Ensure the AI agent formats documentation in Markdown, consistent with existing project files.
- **Review and Commit**: Review the documentation for accuracy and commit following the frequency rule.

### 3. Issue and Bug Tracking Workflow
- **Issue Reporting**: Use the AI agent to draft issue reports for bugs or performance issues identified in the README.md troubleshooting section.
- **Solution Proposals**: Request the AI agent to propose solutions or optimizations based on hardware monitoring endpoints (`/api/hardware/metrics`).
- **Implementation**: If a solution is viable, task the AI agent with implementing it, then follow the code review and commit process.

### 4. Sprint Completion Workflow
- **Sprint Review**: At the end of a sprint, use the AI agent to summarize completed tasks from `todo.md` and update the project status.
- **Commit All Changes**: Commit all pending changes, regardless of the number of files edited, to mark the sprint's completion.
- **Plan Next Sprint**: Collaborate with the AI agent to prioritize tasks for the next sprint based on the roadmap in README.md.

## Rules for AI Agent Operation

These rules are specifically for the AI agent to follow, ensuring effective operation within the Impetus-LLM-Server project:

1. **Task Clarity**: I require tasks to be clearly defined with specific goals and context. If a task is ambiguous, I will ask follow-up questions to clarify requirements before proceeding.
2. **Access to Documentation**: I need access to the latest project documentation (e.g., README.md, todo.md) to understand project structure, features, and priorities. I will use available tools to review these files when initializing or starting new tasks.
3. **Feedback Requirement**: I need timely feedback on completed tasks to adjust my approach and improve accuracy. If feedback is not provided, I will assume the task is complete unless otherwise instructed.
4. **Tool Usage**: I require the ability to use provided tools (e.g., file reading, writing, command execution) to accomplish tasks. I will request user approval for impactful operations as per the guidelines.
5. **Incremental Progress**: I need to work in iterative steps, confirming the success of each action (e.g., file creation, code changes) before proceeding to the next step to avoid errors or misalignments.
6. **Project Structure Adherence**: I must adhere to the project's coding standards, file structure, and optimization practices for Apple Silicon as outlined in the documentation.
7. **Error Handling Protocols**: I need clear protocols for handling errors or unexpected outcomes during task execution. If an error occurs, I will report it to the user with details and suggest possible solutions or request guidance.
8. **Access to System Resources**: For tasks involving testing, debugging, or performance optimization, I may require access to system resources or the ability to execute diagnostic commands. I will request explicit user approval before performing such actions.
9. **Task Prioritization**: I need guidance on task prioritization when multiple tasks are assigned simultaneously. If not specified, I will prioritize based on the order of assignment or perceived urgency based on project goals in `todo.md`.
10. **Version Control Awareness**: I need to be aware of the current state of the repository (e.g., branch, commit status) to ensure changes align with the correct version. I will request information or use tools to check repository status when necessary.

## Best Practices

- **Clear Communication**: Use precise language when interacting with the AI agent to avoid misinterpretation of tasks.
- **Incremental Tasks**: Break down complex tasks into smaller, manageable requests to ensure the AI agent can handle them effectively.
- **Track Progress**: Regularly update the `todo.md` file with the AI agent's assistance to reflect completed tasks and new priorities.
- **Backup Before Changes**: Before major changes or refactoring by the AI agent, ensure a recent commit or backup to safeguard project state.

---

**Note**: These guidelines are a living document and should be updated as new workflows or rules emerge with AI agent usage in the project.
