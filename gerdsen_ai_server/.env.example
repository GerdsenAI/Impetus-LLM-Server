# Impetus LLM Server Configuration
# Copy this file to .env and customize as needed

# Server Configuration
IMPETUS_HOST=0.0.0.0
IMPETUS_PORT=8080
IMPETUS_DEBUG=false
IMPETUS_API_KEY=your-secret-api-key-here

# Environment
IMPETUS_ENV=development  # development or production

# Model Configuration
IMPETUS_DEFAULT_MODEL=mlx-community/Mistral-7B-Instruct-v0.3-4bit
IMPETUS_MAX_LOADED_MODELS=3
IMPETUS_LOAD_IN_4BIT=true
IMPETUS_MODELS_DIR=./models

# Inference Settings
IMPETUS_MAX_TOKENS=2048
IMPETUS_TEMPERATURE=0.7
IMPETUS_TOP_P=0.95
IMPETUS_STREAM_BY_DEFAULT=true
IMPETUS_REPETITION_PENALTY=1.1

# Hardware Settings
IMPETUS_PERFORMANCE_MODE=balanced  # efficiency, balanced, or performance
IMPETUS_ENABLE_THERMAL_MANAGEMENT=true
IMPETUS_MAX_CPU_PERCENT=80.0
IMPETUS_MAX_MEMORY_PERCENT=75.0
IMPETUS_GPU_MEMORY_FRACTION=0.9

# KV Cache Settings
IMPETUS_KV_CACHE_ENABLED=true
IMPETUS_KV_CACHE_MAX_MEMORY_GB=2.0
IMPETUS_KV_CACHE_MAX_CONVERSATIONS=10

# Logging
IMPETUS_LOG_LEVEL=INFO
IMPETUS_LOG_FILE=./logs/impetus.log

# WebSocket Settings
IMPETUS_WEBSOCKET_PING_INTERVAL=25
IMPETUS_WEBSOCKET_PING_TIMEOUT=60

# CORS Settings (comma-separated origins)
IMPETUS_CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# HuggingFace Settings (optional)
# HF_TOKEN=your-huggingface-token  # For gated models
# HF_HUB_ENABLE_HF_TRANSFER=1      # For faster downloads

# Production Settings (when IMPETUS_ENV=production)
# IMPETUS_RATE_LIMIT_PER_HOUR=50
# IMPETUS_MAX_CONCURRENT_INFERENCES=10
# IMPETUS_REQUEST_TIMEOUT=30